#+TITLE: =System configuration=
#+AUTHOR: Haider Mirza
* Table of contents :toc:
- [[#about-this-config][About This Config]]
- [[#configscm][Config.scm]]
- [[#channelsscm][Channels.scm]]

* About This Config
  This is my GNU Guix system configuration applied on my system.
* Config.scm
  This is the config file used in GNU Guix to manage your system.
#+BEGIN_SRC scheme :tangle "/sudo::/etc/config.scm"
    ;; This file should be edited in ~/Dotfiles/System.org then tangled.
    (use-modules (gnu)
		 (gnu packages certs)
		 (gnu packages emacs)
		 (gnu packages emacs-xyz)
		 (gnu packages version-control))


    (use-service-modules
     cups
     desktop
     networking
     ssh
     xorg)


    (operating-system
     (locale "en_GB.utf8")
     (timezone "Europe/London")
     (keyboard-layout (keyboard-layout "gb" "extd"))
     (host-name "xps")
     (users (cons* (user-account
		    (name "haider")
		    (comment "Haider")
		    (group "users")
		    (home-directory "/home/haider")
		    (supplementary-groups
		     '("wheel"
		       "netdev"
		       "audio"
		       "video"
		       "kvm")))
		   %base-user-accounts))

     (packages (append (list
			;; EXWM
			emacs
			emacs-exwm
			emacs-desktop-environment

			;; Everyone deserves git
			git 

			;; for HTTPS access
			nss-certs)
		       %base-packages))

     (services
      (append
       (list (set-xorg-configuration
	      (xorg-configuration
	       (keyboard-layout keyboard-layout))))
       %desktop-services))


     (bootloader
      (bootloader-configuration
       (bootloader grub-bootloader)
       (targets (list "/dev/sda"))
       (keyboard-layout keyboard-layout)))

     (swap-devices
      (list (swap-space
	     (target
	      (uuid "ac642942-86f4-4e6a-86fd-ec51e807b2dc")))))

     (file-systems
      (cons* (file-system
	      (mount-point "/")
	      (device
	       (uuid "6b1c6baa-7381-40cb-9d5a-feb2a1a42a8a"
		     'ext4))
	      (type "ext4"))
	     %base-file-systems)))
#+END_SRC

* Channels.scm
  If you dont want to just use the default channels for whatever reason, place this file in ~/.config/guix to use the nonguix and flat channels.
  *NOTE:* I do not recommend this in any capacity. This is only for reference and I dont even personally use it as a sincere follower of the free software philosophy.

  #+BEGIN_SRC scheme
    (list (channel
	    (name 'guix)
	    (url "https://git.savannah.gnu.org/git/guix.git")
	    (introduction
	      (make-channel-introduction
		"9edb3f66fd807b096b48283debdcddccfea34bad"
		(openpgp-fingerprint
		  "BBB0 2DDF 2CEA F6A8 0D1D  E643 A2A0 6DF2 A33A 54FA"))))
	  (channel
	    (name 'nonguix)
	    (url "https://gitlab.com/nonguix/nonguix"))
	  (channel
	    (name 'flat)
	    (url "https://github.com/flatwhatson/guix-channel.git")
	    (introduction
	      (make-channel-introduction
		"33f86a4b48205c0dc19d7c036c85393f0766f806"
		(openpgp-fingerprint
		  "736A C00E 1254 378B A982  7AF6 9DBE 8265 81B6 4490")))))

  #+END_SRC
